import './App.css';
import Chip from '@mui/material/Chip';
import M_status from './components/m_status';
import Box from '@mui/material/Box';
import Tab from '@mui/material/Tab';
import TabContext from '@mui/lab/TabContext';
import TabList from '@mui/lab/TabList';
import React from 'react';
import Internet_connection from './components/check_internet';
import ToggleButtons from './components/toggle_button';
import ItemThree from './components/item_three';
import { Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';


function App() {
  const navigate = useNavigate();
  const location = useLocation();

  // map pathname to tab value
  const pathToValue = {
    '/internet': '1',
    '/toggle': '2',
    '/item-three': '3'
  };
  const valueToPath = {
    '1': '/internet',
    '2': '/toggle',
    '3': '/item-three'
  };

  const value = pathToValue[location.pathname] || '1';

  const handleChange = (event, newValue) => {
    navigate(valueToPath[newValue]);
  };

  return (
    <div className="App">
      <Box sx={{ width: '100%', typography: 'body1' }}>
        <TabContext value={value}>
          <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>
            <TabList onChange={handleChange} aria-label="lab API tabs example">
              <Tab label="Internet" value="1" />
              <Tab label="Toggle" value="2" />
              <Tab label="Item Three" value="3" />
            </TabList>
          </Box>
        </TabContext>
      </Box>

      <M_status />

      <Routes>
        <Route path="/internet" element={<Internet_connection />} />
        <Route path="/toggle" element={<ToggleButtons />} />
        <Route path="/item-three" element={<ItemThree />} />
        <Route path="/" element={<Navigate to="/internet" replace />} />
        <Route path="*" element={<div>404 â€” Nie znaleziono strony</div>} />
      </Routes>
    </div>
  );
}

export default App;
